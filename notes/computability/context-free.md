---
title: Context-Free Grammar
TARGET DECK: Obsidian::STEM
FILE TAGS: computability::cfg
tags:
  - cfg
  - computability
---

## Overview

A **context-free grammar** (CFG) is a $4$-tuple $\langle V, \Sigma, R, S \rangle$ where

1. $V$ is a finite set called the **variables**,
2. $\Sigma$ is a finite set, disjoint from $V$, called the **terminals**,
3. $R$ is a finite set of **rules**, with each rule being a variable and a string of variables/terminals, and
4. $S \in V$ is the **start variable**.

If $u$, $v$, and $w$ are strings of variables and terminals, and $A \rightarrow w$, we say that $uAv$ **yields** $uwv$, written $uAv \Rightarrow uwv$.

We say $u$ **derives** $v$ if $u = v$ or if a sequence $u_1, u_2, \ldots, u_k$ exists for $k \geq 0$ and $$u \Rightarrow u_1 \Rightarrow u_2 \rightarrow \cdots \Rightarrow u_k \Rightarrow v.$$

This is denoted as $u \overset{*}{\Rightarrow} v$.

A language generated by a context-free grammar $G$ is called a **context-free language** (CFL), denoted as $L(G)$.

%%ANKI
Basic
What is CFG an acronym for?
Back: **C**ontext-**F**ree **G**rammar.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634189-->
END%%

%%ANKI
Basic
What is CFL an acronym for?
Back: **C**ontext-**F**ree **L**anguage.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634197-->
END%%

%%ANKI
Basic
What is a context-free language?
Back: A language generated by a context-free grammar.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634200-->
END%%

%%ANKI
Basic
Let $G$ be a context-free grammar. What does $L(G)$ denote?
Back: The language generated by $G$.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634203-->
END%%

%%ANKI
Basic
Let $G$ be a context-free grammar. How is its generated CFL denoted?
Back: As $L(G)$.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634207-->
END%%

%%ANKI
Basic
A CFG is defined as a tuple of how many elements?
Back: Four.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634211-->
END%%

%%ANKI
Basic
Let $G = \langle V, \Sigma, R, S \rangle$ be a CFG. What name is given to $V$?
Back: The variables.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634214-->
END%%

%%ANKI
Basic
Let $G = \langle V, \Sigma, R, S \rangle$ be a CFG. What kind of mathematical entity is $V$?
Back: A finite set.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634217-->
END%%

%%ANKI
Basic
Let $G = \langle V, \Sigma, R, S \rangle$ be a CFG. What property must $V$ satisfy?
Back: It must be disjoint from $\Sigma$.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634220-->
END%%

%%ANKI
Basic
Let $G = \langle V, \Sigma, R, S \rangle$ be a CFG. What name is given to $\Sigma$?
Back: The terminals.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634223-->
END%%

%%ANKI
Basic
Let $G = \langle V, \Sigma, R, S \rangle$ be a CFG. What kind of mathematical entity is $\Sigma$?
Back: A finite set.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634225-->
END%%

%%ANKI
Basic
Let $G = \langle V, \Sigma, R, S \rangle$ be a CFG. What property must $\Sigma$ satisfy?
Back: It must be disjoint from $V$.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634228-->
END%%

%%ANKI
Basic
Let $G = \langle V, \Sigma, R, S \rangle$ be a CFG. What name is given to $R$?
Back: The (substitution) rules.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634231-->
END%%

%%ANKI
Cloze
The {substitution rules} of a CFG are also called {productions}.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634234-->
END%%

%%ANKI
Basic
Let $G = \langle V, \Sigma, R, S \rangle$ be a CFG. What kind of mathematical entity is $R$?
Back: A binary relation.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634237-->
END%%

%%ANKI
Cloze
The {rules} of a CFG is a binary relation mapping {variables} to {strings of variables/terminals}.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634240-->
END%%

%%ANKI
Basic
Let $G = \langle V, \Sigma, R, S \rangle$ be a CFG. What name is given to $S$?
Back: The start variable.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634243-->
END%%

%%ANKI
Basic
Let $G = \langle V, \Sigma, R, S \rangle$ be a CFG. What property must $S$ satisfy?
Back: It must be a member of $S$.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634250-->
END%%

%%ANKI
Basic
Suppose $A$ is a variable and $uAv$ yields $uwv$. What must exist in the CFG?
Back: A rule starting $A \rightarrow w$.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634254-->
END%%

%%ANKI
Basic
Suppose $A$ is a variable and $uAv$ derives $uwv$. What must exist in the CFG?
Back: A sequence of rules that takes in $A$ and produces a $w$.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746501627359-->
END%%

%%ANKI
Cloze
"{1:yields}" is to {2:once} whereas "{2:derives}" is to {1:zero or more}.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634258-->
END%%

%%ANKI
Cloze
"{1:derives}" is to {2:$\overset{*}{\Rightarrow}$} whereas "{2:yields}" is to {1:$\Rightarrow$}.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634265-->
END%%

%%ANKI
Basic
With respect to CFGs, how is $uAv \Rightarrow uwv$ pronounced?
Back: As $uAv$ yields $uwv$.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634271-->
END%%

%%ANKI
Basic
With respect to CFGs, how is $u \overset{*}{\Rightarrow} v$ pronounced?
Back: As "$u$ derives $v$".
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634277-->
END%%

%%ANKI
Basic
With respect to CFGs, if $u$ derives $v$, what must exist?
Back: A sequence $u_1, u_2, \ldots u_k$ for $k \geq 0$ such that $$u \Rightarrow u_1 \Rightarrow u_2 \Rightarrow \cdots \Rightarrow u_k \Rightarrow v.$$
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634282-->
END%%

%%ANKI
Basic
Let $G = \langle V, \Sigma, R, S \rangle$ be a CFG. How is $L(G)$ expressed in set notation?
Back: $L(G) = \{ w \in \Sigma^* \mid S \overset{*}{\Rightarrow} w \}$
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634287-->
END%%

%%ANKI
Basic
What are the productions of a CFG?
Back: The substitution rules.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634292-->
END%%

%%ANKI
Basic
If unspecified, how is the start variable of a CFG determined?
Back: It is usually implied to be the first variable listed.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634298-->
END%%

%%ANKI
Basic
Consider the following CFG. What are the variables? $$\begin{align*} A & \rightarrow 0A1 \\ A & \rightarrow B \\ B & \rightarrow \# \end{align*}$$
Back: $\{A, B\}$
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634306-->
END%%

%%ANKI
Basic
Consider the following CFG. What are the terminals? $$\begin{align*} A & \rightarrow 0A1 \\ A & \rightarrow B \\ B & \rightarrow \# \end{align*}$$
Back: $\{0, 1, \#\}$
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634311-->
END%%

%%ANKI
Basic
Consider the following CFG. What is the start variable? $$\begin{align*} A & \rightarrow 0A1 \\ A & \rightarrow B \\ B & \rightarrow \# \end{align*}$$
Back: Presumably $A$.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634316-->
END%%

%%ANKI
Basic
Consider the following CFG. How can we write this more compactly? $$\begin{align*} A & \rightarrow 0A1 \\ A & \rightarrow B \\ B & \rightarrow \# \end{align*}$$
Back: $$\begin{align*} A & \rightarrow 0A1 \mid B \\ B & \rightarrow \# \end{align*}$$
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634321-->
END%%

%%ANKI
Basic
Consider the following CFG. Rewrite this without the $\mid$ symbol. $$\begin{align*} A & \rightarrow 0A1 \mid B \\ B & \rightarrow \# \end{align*}$$
Back: $$\begin{align*} A & \rightarrow 0A1 \\ A & \rightarrow B \\ B & \rightarrow \# \end{align*}$$
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634327-->
END%%

%%ANKI
Basic
Which of context-free languages or regular languages is more general?
Back: Context-free languages.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634332-->
END%%

%%ANKI
Basic
What attribute of CFGs allow them to recognize more languages than e.g. regular expressions?
Back: They can represent recursive structures.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1746370634337-->
END%%

## Ambiguity

A derivation of a string $w$ in a grammar $G$ is a **leftmost derivation** if at every step the leftmost remaining variable is the one replaced.

A string $w$ is derived **ambiguously** in context-free grammar $G$ if it has two or more different leftmost derivations. Grammar $G$ is **ambiguous** if it generates some string ambiguously.

A context-free language that can be generated only from an ambiguous grammar is called **inherently ambiguous**.

%%ANKI
Basic
What is a leftmost derivation of a string $w$ in grammar $G$?
Back: A derivation in which at every step the leftmost remaining variable is the one replaced.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295642-->
END%%

%%ANKI
Basic
What are the leftmost derivation(s) of $bcd$ in the following context-free grammar? $$\begin{align*} A & \rightarrow BCD \\ B & \rightarrow b \\ C & \rightarrow c \\ D & \rightarrow d \end{align*}$$
Back: Just $A \Rightarrow BCD \Rightarrow bCD \Rightarrow bcD \Rightarrow bcd$.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295650-->
END%%

%%ANKI
Cloze
A {1:string} is derived {2:ambiguously} whereas a {2:grammar} is {1:ambiguous}.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295653-->
END%%

%%ANKI
Basic
What does it mean for a string $w$ to be derived ambiguously?
Back: There is more than one leftmost deriviation of $w$.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295655-->
END%%

%%ANKI
Basic
What does it mean for a context-free grammar $G$ to be ambiguous?
Back: It derives some string ambiguously.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295657-->
END%%

%%ANKI
Basic
What are the leftmost derivation(s) of $a$ in the following context-free grammar? $$\begin{align*} A & \rightarrow B \mid C \\ B & \rightarrow a \\ C & \rightarrow a \end{align*}$$
Back:
1. $A \Rightarrow B \Rightarrow a$
2. $A \Rightarrow C \Rightarrow c$
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295660-->
END%%

%%ANKI
Basic
Why is the following context-free grammar ambiguous? $$\begin{align*} A & \rightarrow B \mid C \\ B & \rightarrow a \\ C & \rightarrow a \end{align*}$$
Back: String $a$ is derived ambiguously.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295662-->
END%%

%%ANKI
Basic
What are the derivation(s) of $bc$ in the following context-free grammar? $$\begin{align*} A & \rightarrow BC \\ B & \rightarrow b \\ C & \rightarrow c \end{align*}$$
Back:
1. $A \Rightarrow BC \Rightarrow bC \Rightarrow bc$
2. $A \Rightarrow BC \Rightarrow Bc \Rightarrow bc$
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295665-->
END%%

%%ANKI
Basic
What are the leftmost derivation(s) of $bc$ in the following context-free grammar? $$\begin{align*} A & \rightarrow BC \\ B & \rightarrow b \\ C & \rightarrow c \end{align*}$$
Back: Just $A \Rightarrow BC \Rightarrow bC \Rightarrow bc$.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295667-->
END%%

%%ANKI
Basic
Why is the following context-free grammar ambiguous? $$\begin{align*} A & \rightarrow BC \\ B & \rightarrow b \\ C & \rightarrow c \end{align*}$$
Back: N/A. It is not ambiguous.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295669-->
END%%

%%ANKI
Basic
What is wrong with the following statement?

> A string is derived ambiguously if it has two different derivations.

Back: A string is derived ambiguously if it has two different *leftmost* derivations.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295672-->
END%%

%%ANKI
Cloze
A {1:CFL}s are {2:inherently ambiguous} if they can only be generated by {2:ambiguous} {1:CFG}s.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295675-->
END%%

%%ANKI
Basic
With respect to context-free grammars, the term "ambiguous" is reserved for what concept?
Back: The CFGs themselves.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295678-->
END%%

%%ANKI
Basic
With respect to context-free grammars, the term "ambiguously" is reserved for what concept?
Back: Strings derived from ambiguous grammars.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295681-->
END%%

%%ANKI
Basic
With respect to context-free grammars, the term "inherently ambiguous" is reserved for what concept?
Back: CFLs that can only be generated from ambiguous CFGs.
Reference: Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).
<!--ID: 1747171295684-->
END%%

## Bibliography

* Michael Sipser, _Introduction to the Theory of Computation_, Third edition, international edition (Cengage Learning, 2013).